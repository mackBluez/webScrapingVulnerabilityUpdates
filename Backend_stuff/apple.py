import requests
from bs4 import BeautifulSoup
import csv

response = requests.get("https://support.apple.com/en-us/HT201222")
soup = BeautifulSoup(response.text, "html.parser")
data_apple = []
table_apple = soup.find('tbody')

rows = table_apple.findAll('tr')
for row in rows:
    cols = row.find_all('td')
    cols = [ele.text.strip() for ele in cols]
    data_apple.append(list(ele for ele in cols if ele))
    
data_apple = list(filter(None, data_apple))

for names in data_apple:
    with open("C:\\Automation_OOB\\Backend_stuff\\apple.txt", 'a') as csv_file:
        writer = csv.writer(csv_file)
        writer.writerow(names)
print("Apple Scraped...")
